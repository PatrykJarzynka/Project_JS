{"version":3,"sources":["js/modal-render-plugin.js","js/modal-open-plugin.js","index.js"],"names":["console","log","closeSvg","renderModalWindow","constructor","event","Key","link","image","images","url","eventName","setEventName","name","_embedded","attractions","eventInfo","checkData","info","eventDate","dates","start","localDate","eventCity","venues","city","eventCountry","country","eventLocation","ticketLink","eventTime","eventTimeZone","vipPriceContainerText","standardPriceContainerText","lowerPrice","higherPrice","currency","lowerPriceVip","higherPriceVip","currencyVip","standardPriceContainer","vipPriceContainer","setTimeZone","localTime","timezone","setPrices","priceRanges","min","max","setPriceContainer","windowModal","setWindowModal","returnModalWindow","replacer","checkedEventName","eventTimeZoneReplacer","slice","eventPriceRanges","firstRangeMinPrice","firstRangeMaxPrice","firstRangeCurrency","secondRangeMinPrice","secondRangeMaxPrice","secondRangeCurrency","setNewPrice","length","type","eventPriceRange","data","phrase","checkedData","undefined","price","priceInfo","newPrice","String","ModalController","cssClass","firstClickPlace","secondClickPlace","closeBtnSelector","checkClassData","modalWindow","setModalWindow","closeBtn","setCloseBtn","setEventListener","classData","querySelector","openModal","classList","remove","addEventListener","add","closeModal","document","window","scrollX","scrollY","gallery","KEY","paginationList","page","galleryRender","fetchEvents","events","forEach","elm","modalWindowPlugin","insertAdjacentHTML","setTimeout","launchModalWindowPlugin","pagination","response","fetch","then","json","catch","error","range","end","Array","from","_","idx","currentPage","elementsToShow","pages","temporary","totalPages","_links","renderPagination","push","innerHTML","map","num","index","paginationTemplate","disabled","handlePaginationOnClick","e","preventDefault","querySelectorAll","target","closest","textContent","value","includes","firstModal","children","secondModal","offsetParent","modalController"],"mappings":"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","file":"src.d6ba71c4.js","sourceRoot":"../src","sourcesContent":["import closeSvg from '../images/svg/symbol-defs.svg';\nconsole.log(`${closeSvg}#icon-close`);\n\nclass renderModalWindow {\n  constructor({ event, Key, link }) {\n        this.Key = Key;\n        this.link = link;\n        this.image = event.images[0].url;\n        this.eventName = this.setEventName(event.name, event._embedded.attractions[0].name);\n        this.eventInfo = this.checkData(event.info, 'No Event Info');\n        this.eventDate = this.checkData(event.dates.start.localDate, 'No Date Info');\n        this.eventCity = this.checkData(event._embedded.venues[0].city.name, 'No City Info');\n        this.eventCountry = this.checkData(event._embedded.venues[0].country.name, 'No Country Info');\n        this.eventLocation = this.checkData(event._embedded.venues[0].name, 'No Location Info');\n        this.ticketLink = event.url;\n        this.eventTime = '';\n        this.eventTimeZone = '';\n\n        this.vipPriceContainerText = ''\n        this.standardPriceContainerText = '';\n        this.lowerPrice = '';\n        this.higherPrice = '';\n        this.currency = '';\n        this.lowerPriceVip = '';\n        this.higherPriceVip = '';\n        this.currencyVip = '';\n\n        this.standardPriceContainer = '';\n        this.vipPriceContainer = ``;\n        this.setTimeZone(event.dates.start.localTime, event.dates.timezone, event._embedded.venues[0].timezone);\n        this.setPrices(\n            event.priceRanges,\n            event.priceRanges[0].min,\n            event.priceRanges[0].max,\n            event.priceRanges[0].currency,\n            event.priceRanges[1].min,\n            event.priceRanges[1].max,\n            event.priceRanges[1].currency\n      );\n\n      this.setPriceContainer(event.priceRanges);\n      this.windowModal = this.setWindowModal();\n  }\n\n    returnModalWindow() {\n      return this.windowModal\n    }\n\n    setEventName(eventName, replacer) {\n        let checkedEventName = eventName;\n        if (!eventName) {\n            checkedEventName = this.checkData(replacer, 'No Name Info');\n        }\n        return checkedEventName;\n    }\n\n    setTimeZone(eventTime, eventTimeZone, eventTimeZoneReplacer) {\n        this.eventTime = eventTime;\n        this.eventTimeZone = `(${eventTimeZone})`;\n        if (!eventTime) {\n            this.eventTime = 'No Time Info';\n            this.eventTimeZone = '';\n        } else if (!eventTimeZone) {\n            // eventTimeZone = `(${event._embedded.venues[0].timezone})`;\n            this.eventTimeZone = this.checkData(eventTimeZoneReplacer, '');\n        } else {\n            this.eventTime = eventTime.slice(0, 5);\n        }\n    }\n    setWindowModal() {\n        return `\n        <div class=\"modal-window modal-closed\">\n          <div class=\"modal-window__container\">\n            <svg class=\"modal-window__close--btn\"><use class='modal-window__close--btn' href=\"${closeSvg}#icon-close\"></use></svg>\n              <div class=\"modal-window__logo-img--container\">\n                <img src=\"${this.image}\" alt=\"${this.eventName}\" class=\"modal-window__logo-img\">\n              </div>\n              <div class=\"modal-window__info\">\n                <div class=\"modal-window__info--container\">\n                  <h2 class=\"modal-window__title\">Info</h2>\n                  <p class=\"modal-window__text\">${this.eventInfo}</p>\n                </div>\n                <div class=\"modal-window__info--container\">\n                  <h2 class=\"modal-window__title\">When</h2>\n                  <p class=\"modal-window__text\">${this.eventDate}</p>\n                  <p class=\"modal-window__text\">${this.eventTime} ${this.eventTimeZone}</p>\n                </div>\n                <div class=\"modal-window__location--container\">\n                  <h2 class=\"modal-window__title\">Where</h2>\n                  <p class=\"modal-window__text\">${this.eventCity, this.eventCountry}</p>\n                  <p class=\"modal-window__text\">${this.eventLocation}</p>\n                  </div>\n                <div class=\"modal-window__info--container\">\n                  <h2 class=\"modal-window__title\">Who</h2>\n                  <p class=\"modal-window__text\">${this.eventName}</p>\n                </div>\n                <div class=\"modal-window__info--container\">\n                  <h2 class=\"modal-window__title\">Prices</h2>\n                  ${this.standardPriceContainer}\n                </div>\n              </div>\n            <a>\n              <button class=\"modal-window__more--btn\" type=\"button\">MORE FROM THIS AUTHOR</button>\n            </a>\n          </div>\n        </div>\n    `\n    }\n\n    setPrices(\n        eventPriceRanges,\n        firstRangeMinPrice,\n        firstRangeMaxPrice,\n        firstRangeCurrency,\n        secondRangeMinPrice,\n        secondRangeMaxPrice,\n        secondRangeCurrency) {\n        if (eventPriceRanges) {\n            this.lowerPrice = this.setNewPrice(firstRangeMinPrice, 'No Price Info');\n            this.higherPrice = this.setNewPrice(firstRangeMaxPrice, 'No Price Info');\n            this.currency = this.setNewPrice(firstRangeCurrency, '');\n\n            if (eventPriceRanges.length > 1 && eventPriceRanges[1].type === 'VIP') {\n                this.lowerPriceVip = this.setNewPrice(secondRangeMinPrice, 'No Price Info');\n                this.higherPriceVip = this.setNewPrice(secondRangeMaxPrice, 'No Price Info');\n                this.currencyVip = this.checkData(secondRangeCurrency, '');\n            }\n        }\n    }\n\n    setPriceContainer(eventPriceRange) {\n        if (eventPriceRange) {\n                this.standardPriceContainerText = `<p class=\"modal-window__text\">Standard: ${this.lowerPrice} - ${this.higherPrice} ${this.currency}</p>`\n                if (this.lowerPrice === this.higherPrice) {\n                    this.standardPriceContainerText = `<p class=\"modal-window__text\">Standard: ${this.lowerPrice} ${this.currency}</p>`\n                }\n                if (eventPriceRange > 1 && eventPriceRange[1].type === 'VIP') {\n                    this.vipPriceContainer = `\n                    <div class='modal-window__price-container'>\n                        ${this.vipPriceContainerText}\n                        <button class=\"modal-window__btn\" type=\"submit\">\n                          <a href='${this.ticketLink}'>\n                            <p class='modal-window__btn-text'>Buy Tickets</p>\n                          </a>\n                        </button>\n                    </div>`;\n\n                    this.standardPriceContainerText = `<p class=\"modal-window__text\">Standard: ${this.lowerPrice} - ${this.higherPrice} ${this.currency}</p>`\n                    this.vipPriceContainerText = `<p class=\"modal-window__text\">VIP: ${this.lowerPriceVip} - ${this.higherPriceVip} ${this.currencyVip}</p>`\n\n                    if (this.lowerPriceVip === this.higherPriceVip) {\n                        this.standardPriceContainerText = `<p class=\"modal-window__text\">Standard ${this.lowerPrice} - ${this.higherPrice} ${this.currency}</p>`\n                        this.vipPriceContainerText = `<p class=\"modal-window__text\">VIP ${this.lowerPriceVip} ${this.currencyVip}</p>`\n                    }\n                }\n                this.standardPriceContainer = `\n                <div class='modal-window__price-container'>\n                ${this.standardPriceContainerText}\n                        <button class=\"modal-window__btn\" type=\"submit\">\n                          <a href='${this.ticketLink}'>\n                            <p class='modal-window__btn-text'>Buy Tickets</p>\n                          </a>\n                        </button>\n                </div >\n                ${this.vipPriceContainer}\n            `;\n            } else {\n                this.standardPriceContainer = `\n                <a>\n                <button class=\"modal-window__btn\" type=\"submit\">Check on Website</button>\n                </a>\n                `\n        };\n    };\n\n    checkData(data, phrase) {\n    let checkedData = data;\n    if (!data || data === 'undefined' || data === undefined) {\n        checkedData = phrase;\n    }\n    return checkedData;\n    }\n\n    setNewPrice(price, priceInfo) {\n    let newPrice = this.checkData(price, priceInfo);\n    if (String(newPrice).length > 3) {\n        newPrice = String(newPrice).slice(0, 2);\n    }\n    return newPrice;\n};\n}\n\n\nexport { renderModalWindow };","class ModalController {\n  constructor({\n    cssClass,\n    firstClickPlace,\n    secondClickPlace,\n    closeBtnSelector,\n  }) {\n    this.firstClickPlace = this.checkClassData(firstClickPlace);\n    this.secondClickPlace = this.checkClassData(secondClickPlace);\n    this.closeBtnSelector = closeBtnSelector;\n    this.cssClass = cssClass;\n    this.modalWindow = this.setModalWindow();\n    this.closeBtn = this.setCloseBtn();\n    this.setEventListener();\n  };\n\n  setModalWindow() {\n    if (!this.firstClickPlace) {\n      return this.secondClickPlace;\n    } else {\n      return this.firstClickPlace;\n    };\n  }\n\n  checkClassData(classData) {\n    if(!classData) {\n      return;\n    };\n    return classData;\n  }\n\n  setCloseBtn() {\n    const closeBtn = this.modalWindow.querySelector(`.${this.closeBtnSelector}`);\n    return closeBtn;\n  }\n\n  openModal() {\n    if (!this.modalWindow) {\n      return;\n    };\n    this.modalWindow.classList.remove(this.cssClass);\n  }\n\n  setEventListener() {\n    if (!this.closeBtn) {\n      return;\n    };\n    this.closeBtn.addEventListener('click', () => {\n      if (!this.modalWindow) {\n        return;\n      };\n      this.modalWindow.classList.add(this.cssClass);\n    });\n  }\n\n  closeModal() {\n      if (!this.modalWindow) {\n        return;\n      };\n      this.modalWindow.classList.add(this.cssClass);\n  }\n}\n\nexport { ModalController };","'use strict';\n\ndocument.addEventListener('scroll', () => {\n  console.log(window.scrollX );\n  console.log(window.scrollY);\n\n});\n\n\nimport './sass/main.scss';\nimport { renderModalWindow } from './js/modal-render-plugin';\nimport { ModalController } from './js/modal-open-plugin';\n\nconst gallery = document.querySelector('.gallery');\nconst KEY = '9hIF6NBjrDSVNrQQJmrbBXzEzwkr0S4m';\nconst paginationList = document.querySelector('.pagination');\n\n\nlet page = 1;\nlet country = 'pl';\n\nasync function galleryRender(country, page) {\n  let data = await fetchEvents(country, page);\n  let pages = data.page;\n  let events = data._embedded.events;\n  events.forEach(elm => {\n    const modalWindowPlugin = new renderModalWindow(\n      {\n        event: elm,\n        Key: KEY,\n        link: `https://app.ticketmaster.com/discovery/v2/events.json?`\n      });\n\n    const modalWindow = modalWindowPlugin.returnModalWindow();\n    gallery.insertAdjacentHTML(\n      'beforeend',\n      `<div class=\"gallery__event\">\n        <img class=\"event__image\" src=${elm.images[0].url} alt =\"\"/>\n        <div class=\"event__info\">\n        <p class=\"event__tittle\">${elm.name}</p>\n        <p class=\"event__date\">${elm.dates.start.localDate}</p>\n        <p class=\"event__place\"> ${elm._embedded.venues[0].name}</p></div>\n        ${modalWindow}\n      </div>`,\n    );\n    setTimeout(() => {\n      launchModalWindowPlugin(gallery, 'modal-window__close--btn');\n    }, 0);\n  });\n\n  pagination(page);\n}\n\n\n\nasync function fetchEvents(country, page) {\n  const response = await fetch(\n    `https://app.ticketmaster.com/discovery/v2/events.json?countryCode=${country}&sort=date,asc&page=${page}&apikey=${KEY}`,\n  )\n    .then(data => {\n      // console.log(data.json())\n      const response = data.json();\n      return response;\n    })\n    .catch(error => {\n      console.log(error);\n    });\n\n  return response;\n\n}\n\n  const range = (start, end) => {\n    let length = end - start + 1;\n    return Array.from({ length }, (_, idx) => idx + start);\n  };\n\n  const pagination = async (currentPage = 1) => {\n    const elementsToShow = 5;\n    const data = await fetchEvents(country, page);\n    let pages = data.page;\n    let totalPages = data.page.totalPages;\n    let abc = data.page;\n    let links = data._links;\n    let temporary;\n    if (totalPages >= 30) {\n      totalPages = 29;\n    }\n\n    //TEMPORARY TO TEN ZASIEG I TU 5 IFOW\n    if (currentPage == 1) {\n      temporary = range(currentPage, elementsToShow);\n    } else if (currentPage == 2) {\n      temporary = range(currentPage - 1, elementsToShow);\n    } else if (currentPage > 2 && currentPage < totalPages - 1) {\n      temporary = range(currentPage - 2, currentPage + 2);\n      console.log(currentPage);\n    } else if (currentPage == totalPages - 1) {\n      temporary = range(currentPage - 3, currentPage + 1);\n    } else if (currentPage == totalPages) {\n      temporary = range(currentPage - 4, currentPage);\n    }\n\n    //DODAJE TUTAJ TOTALPAGES ZEBY SPRAWDZIC CZY POTRZEBNE SA TRZY KROPKI\n    renderPagination(temporary, currentPage, totalPages);\n  };\n\n  const renderPagination = (pagination, currentPage, totalPages) => {\n    //TUTAJ SPRAWDZAM CZY JEST MNIEJSZE ROWNE 6 JESLI TAK DO DODAJE KROPKI I NA KONCU TOTALPAGES\n    if (currentPage <= totalPages - 3) {\n      pagination.push('...');\n      pagination.push(totalPages);\n    }\n    paginationList.innerHTML = pagination.map((num, index) => paginationTemplate(num, currentPage));\n    //wyłączenie możliwości kliknięcia w kropki\n    const dots = document.querySelector('.pagination__dots');\n    dots.disabled = true;\n  };\n\n  //TU DODALEM SPRAWDZANIE CZY JEST KROPKAMI ( ZEBY NIE DODAWALO BUTTON TYLKO ZWYKLE LI)\n  const paginationTemplate = (num, currentPage) =>\n    num != '...'\n      ? `\n  <li class='pagination__link${num == currentPage ? '--active' : ''}'>\n    <button>${num}</button>\n  </li>\n`\n      : `<span class='pagination__link--dots'>\n<button class='pagination__dots'>${num}</button>\n</span>`;\n\n  const handlePaginationOnClick = async e => {\n    e.preventDefault();\n    paginationList.innerHTML = '';\n    gallery.innerHTML = '';\n\n    document\n      .querySelectorAll('.pagination__link')\n      .forEach(pagination => pagination.classList.remove('pagination__link--active'));\n\n    e.target.closest('li')?.classList.add('pagination__link--active');\n\n    page = e.target.textContent;\n\n    await galleryRender(country, +page);\n  };\n\n  paginationList.addEventListener('click', handlePaginationOnClick);\n\n  function launchModalWindowPlugin(gallery, closeBtnSelector) {\n    gallery.addEventListener('click', (e) => {\n      if (e.target.classList.value.includes('gallery__event')) {\n        const firstModal = e.target.children[2];\n        const secondModal = e.target.offsetParent.children[2];\n        const modalController = new ModalController({\n          cssClass: 'modal-closed',\n          firstClickPlace: firstModal,\n          secondClickPlace: secondModal,\n          closeBtnSelector: closeBtnSelector\n        });\n        modalController.openModal();\n        window.addEventListener('click', (e) => {\n          if (e.target === firstModal || e.target === secondModal) {\n            modalController.closeModal();\n          }\n        })\n      }\n    });\n\n  }\n\n  galleryRender(country, page);\n\n  export { KEY };\n\n\n\n\n\n\n\n\n\n\n\n\n// // pierwsza wersja\n// import './sass/main.scss';\n// 'use strict'\n// const gallery = document.querySelector(\".gallery\");\n// const key = \"9hIF6NBjrDSVNrQQJmrbBXzEzwkr0S4m\";\n// const paginationList=document.querySelector(\".pagination\")\n// let page = 21;\n// let country = 'pl';\n// let keyword\n\n//  async function fetchEvents() {\n//     fetch(`https://app.ticketmaster.com/discovery/v2/events?countryCode=${country}&sort=date,asc&page=${page}&apikey=${key}`)\n//         .then(data => {\n//             // console.log(data.json())\n//             const response = data.json();\n//             return response\n\n//         })\n//         .then(response => {\n//             console.log(response);\n//             let pages = response.page;\n//             let events = response._embedded.events;\n//             let totalPages = pages.totalPages;\n//             let links = response._links;\n//             let fLink = links.first.href;\n//             let lLink = links.last.href;\n//             console.log(lLink)\n//             console.log(fLink)\n//             console.log(links)\n//             console.log(totalPages)\n//             console.log(events)\n//             console.log(pages)\n//             events.forEach(elm => {\n//              gallery.insertAdjacentHTML(\"beforeend\",`<div class=\"gallery__event\">\n//   <img class=\"event__image\" src=${elm.images[0].url} alt =\"\"/>\n//   <div class=\"event__info\">\n//   <p class=\"event__tittle\">${elm.name}</p>\n//   <p class=\"event__date\">${elm.dates.start.localDate}</p>\n//   <p class=\"event__place\"> ${elm._embedded.venues[0].name}</p></div>\n// </div>`  );\n//             })\n//             let numPages = []\n//             for (let i = 1; i <= totalPages; i += 1){\n//                 numPages.push(i)\n//             }\n//             console.log(numPages)\n//             numPages.forEach(elm => {\n//                 paginationList.insertAdjacentHTML(\"beforeend\",`<li class=\"pagination__link\"><a href=\"\">${elm}</a></li>`)\n//             })\n//             const firstLink = paginationList.children[0];\n\n//             console.log(numPages.length)\n//             const lastElementIndex = paginationList.children.length - 1;\n//             const lastLink = paginationList.children[lastElementIndex];\n//             console.log(lastLink)\n//             console.log(lastElementIndex);\n//         //     lastLink.addEventListener(\"click\", (event) => {\n//         //         event.preventDefault()\n//         //         gallery.innerHTML = \"\";\n//         //         fetch(`https://app.ticketmaster.com${fLink}page=${page}&apikey=${key}`)\n//         // .then(data => {\n//         //     // console.log(data.json())\n//         //     const response = data.json();\n//         //     return response\n\n//         // })\n\n\n\n//         //     })\n//             // firstLink.childNodes[0].setAttribute(\"href\", `${fLink}`);\n//             // console.log(firstLink.childNodes[0])\n//             // console.log(firstLink)\n//             // lastLink.childNodes[0].setAttribute(\"href\",`${lLink}`)\n\n//         })\n//         .catch(error => {\n//         console.log(error)\n//     })\n// }\n\n\n\n\n\n// fetchEvents()\n// // pierwsza wersja koniec\n"]}